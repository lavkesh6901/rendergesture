<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gesture Recognition</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="app-header">
    <h1 class="app-title">Gesture Recognition</h1>
    <div class="header-controls">
      <div class="connection-status">
        <div id="statusIndicator" class="status-indicator"></div>
        <span id="server-status" class="badge">Offline</span>
      </div>
      <label class="control control-inline" for="highContrastToggle">
        <input id="highContrastToggle" type="checkbox" />
        <span>High Contrast</span>
      </label>
      <button id="themeToggle">ğŸŒ™ / â˜€ï¸</button>
    </div>
  </header>

  <div class="container">
    <!-- Left: Stats + Controls -->
    <div class="stats-box">
      <h2>ğŸ“Š Stats</h2>
      <div id="stats">No data yet.</div>

      <!-- Controls -->
      <div class="controls">
        <h3>âš™ï¸ Settings</h3>
        <div class="controls-grid">
          <div class="control">
            <label for="interval">Capture Interval (ms)</label>
            <input id="interval" type="range" min="200" max="3000" step="100" />
            <output id="intervalValue"></output>
          </div>
          <div class="control control-inline buttons">
            <button id="startBtn">â–¶ï¸ Start</button>
            <button id="stopBtn" disabled>â¹ï¸ Stop</button>
          </div>
          <div class="control control-inline">
            <label for="speakToggle">Enable Speech</label>
            <input id="speakToggle" type="checkbox" checked />
          </div>
        </div>
      </div>
    </div>

    <!-- Center: Camera -->
    <div class="camera-box">
      <video id="video" autoplay playsinline muted></video>
      <div id="handDetected" class="hand-detected">
        âœ‹ Hand Detected
      </div>
    </div>

    <!-- Right: Prediction + Emoji Display -->
    <div class="info-box">
      <!-- Prediction display top -->
      <div class="prediction-display">
        <div id="gesture-icon" class="gesture-icon">â“</div>
        <div id="result" class="result-text">Waiting...</div>
        <div class="confidence-bar-container">
          <div id="confidence-bar" class="confidence-bar"></div>
          <div id="confidence-label" class="confidence-label">0%</div>
        </div>
      </div>

      <h2>ğŸ­ Gestures</h2>
      <div id="emojiDisplay" class="emoji-display">
        <!-- Emojis will be dynamically inserted here -->
      </div>

      <!-- Training Section -->
      <div class="training-section">
        <h2>ğŸ“ Training</h2>
        <div class="training-gesture">
          <div class="icon">ğŸ‘</div>
          <div class="name">Good (Thumbs Up)</div>
          <div class="toggle">â–¶ï¸</div>
        </div>
        <div class="training-steps">
          <div class="step-item">
            <div class="step-number">1</div>
            <div class="step-text">Make a fist with your hand</div>
          </div>
          <div class="step-item">
            <div class="step-number">2</div>
            <div class="step-text">Extend your thumb upward</div>
          </div>
          <div class="step-item">
            <div class="step-number">3</div>
            <div class="step-text">Hold your hand steady in front of the camera</div>
          </div>
        </div>

        <div class="training-gesture">
          <div class="icon">ğŸ‘‹</div>
          <div class="name">Hello (Wave)</div>
          <div class="toggle">â–¶ï¸</div>
        </div>
        <div class="training-steps">
          <div class="step-item">
            <div class="step-number">1</div>
            <div class="step-text">Open your hand with fingers together</div>
          </div>
          <div class="step-item">
            <div class="step-number">2</div>
            <div class="step-text">Move your hand from side to side</div>
          </div>
          <div class="step-item">
            <div class="step-number">3</div>
            <div class="step-text">Make sure your palm is facing the camera</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom: Text-to-Speech Controls -->
  <div class="tts-controls">
    <div class="tts-header">
      <h3>ğŸ—£ï¸ Text-to-Speech</h3>
      <div class="control control-inline">
        <label for="speakToggle">Enable TTS</label>
        <input id="speakToggle" type="checkbox" checked />
      </div>
    </div>
    <div class="tts-grid">
      <label class="control" for="voiceSelect">
        <span>Voice</span>
        <select id="voiceSelect"></select>
      </label>
      <label class="control" for="volume">
        <span>Volume</span>
        <input id="volume" type="range" min="0" max="1" step="0.1" value="1" />
      </label>
      <label class="control" for="pitch">
        <span>Pitch</span>
        <input id="pitch" type="range" min="0" max="2" step="0.1" value="1" />
      </label>
      <label class="control" for="rate">
        <span>Rate</span>
        <input id="rate" type="range" min="0.5" max="2" step="0.1" value="1" />
      </label>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>